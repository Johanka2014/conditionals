<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mixed Conditionals Practice</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; }
        .verb-past { color: #DC2626; font-weight: 600; }
        .verb-present { color: #16A34A; font-weight: 600; }
        .verb-future { color: #9333EA; font-weight: 600; }
        .content-card {
            background-color: white;
            border-radius: 0.75rem;
            padding: 2rem;
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
            margin-bottom: 2rem;
        }
        .gradient-bg { background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%); }
        .input-field {
            border: 1px solid #D1D5DB;
            border-radius: 0.375rem;
            padding: 0.25rem 0.5rem;
            font-size: 1rem;
            margin: 0 0.25rem;
            min-width: 10rem;
        }
        .input-field:focus { outline: none; border-color: #3B82F6; box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.5); }
        .correct { border-color: #10B981 !important; background-color: #ECFDF5; }
        .incorrect { border-color: #EF4444 !important; background-color: #FEF2F2; }
        .scramble-item { cursor: grab; padding: 0.5rem 1rem; background: #f3f4f6; border: 1px solid #d1d5db; border-radius: 0.5rem; margin: 0.25rem; display: inline-block; }
        .scramble-container { min-height: 3rem; border: 2px dashed #cbd5e1; border-radius: 0.75rem; padding: 1rem; margin-top: 0.5rem; }
    </style>
</head>
<body class="gradient-bg min-h-screen">

    <div class="container mx-auto p-4 sm:p-6 md:p-8 max-w-5xl">

        <!-- PAGE 1: EXPLANATION -->
        <div id="explanation-page" class="page-section">
            <header class="text-center mb-8">
                <h1 class="text-4xl md:text-5xl font-bold text-gray-800">Mixed Conditionals</h1>
                <p class="text-lg text-gray-600 mt-2">Learn how to mix conditional verb forms like a native speaker.</p>
            </header>

            <main>
                <div class="content-card">
                    <p class="text-gray-700 leading-relaxed">Sometimes Unreal Conditional sentences are mixed. This means that the time in the if-clause is not the same as the time in the result. Study the examples below to learn how to mix conditional verb forms like a native speaker.</p>
                    <div class="mt-6 flex flex-wrap gap-4 justify-center">
                        <span class="inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-800">Verbs in <span class="verb-present mx-1">green</span> are in the Present Unreal Conditional.</span>
                        <span class="inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-red-100 text-red-800">Verbs in <span class="verb-past mx-1">red</span> are in the Past Unreal Conditional.</span>
                        <span class="inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-purple-100 text-purple-800">Verbs in <span class="verb-future mx-1">purple</span> are in the Future Unreal Conditional.</span>
                    </div>
                </div>

                <!-- Pattern: Past -> Present -->
                <div class="content-card relative overflow-hidden">
                    <div class="absolute inset-0 z-0">
                        <img src="https://johanka2014.github.io/conditionals/lottery.png" alt="Lottery ticket background" class="w-full h-full object-cover">
                        <div class="absolute inset-0 bg-white/75"></div>
                    </div>
                    <h2 class="relative z-10 text-2xl font-bold text-gray-800 border-b-2 border-red-300 pb-2 mb-4">PAST <span class="text-gray-400 mx-2">‚Üí</span> PRESENT</h2>
                    <div class="relative z-10 space-y-4">
                        <div class="p-4 bg-white/80 backdrop-blur-sm rounded-lg shadow-sm">
                            <p class="text-lg text-gray-800">If I <span class="verb-past">had won</span> the lottery, I <span class="verb-present">would be</span> rich.</p>
                            <p class="text-sm text-gray-600 italic mt-1">But I didn't win the lottery in the past and I am not rich now.</p>
                        </div>
                        <div class="p-4 bg-white/80 backdrop-blur-sm rounded-lg shadow-sm">
                            <p class="text-lg text-gray-800">If I <span class="verb-past">had taken</span> French in high school, I <span class="verb-present">would have</span> more job opportunities.</p>
                            <p class="text-sm text-gray-600 italic mt-1">But I didn't take French in high school and I don't have many job opportunities.</p>
                        </div>
                        <div class="p-4 bg-white/80 backdrop-blur-sm rounded-lg shadow-sm">
                            <p class="text-lg text-gray-800">If she <span class="verb-past">had been born</span> in the United States, she <span class="verb-present">wouldn't need</span> a visa to work here.</p>
                            <p class="text-sm text-gray-600 italic mt-1">But she wasn't born in the United States and she does need a visa now to work here.</p>
                        </div>
                    </div>
                </div>

                <!-- Pattern: Past -> Future -->
                <div class="content-card relative overflow-hidden">
                    <div class="absolute inset-0 z-0">
                        <img src="https://johanka2014.github.io/conditionals/skiing.png" alt="Skiing background" class="w-full h-full object-cover">
                        <div class="absolute inset-0 bg-white/75"></div>
                    </div>
                    <h2 class="relative z-10 text-2xl font-bold text-gray-800 border-b-2 border-red-300 pb-2 mb-4">PAST <span class="text-gray-400 mx-2">‚Üí</span> FUTURE</h2>
                    <div class="relative z-10 space-y-4">
                        <div class="p-4 bg-white/80 backdrop-blur-sm rounded-lg shadow-sm">
                            <p class="text-lg text-gray-800">If she <span class="verb-past">had signed up</span> for the ski trip last week, she <span class="verb-future">would be joining</span> us tomorrow.</p>
                            <p class="text-sm text-gray-600 italic mt-1">But she didn't sign up for the ski trip last week and she isn't going to join us tomorrow.</p>
                        </div>
                        <div class="p-4 bg-white/80 backdrop-blur-sm rounded-lg shadow-sm">
                            <p class="text-lg text-gray-800">If Mark <span class="verb-past">had gotten</span> the job instead of Joe, he <span class="verb-future">would be moving</span> to Shanghai.</p>
                            <p class="text-sm text-gray-600 italic mt-1">But Mark didn't get the job and Mark is not going to move to Shanghai.</p>
                        </div>
                        <div class="p-4 bg-white/80 backdrop-blur-sm rounded-lg shadow-sm">
                            <p class="text-lg text-gray-800">If Darren <span class="verb-past">hadn't wasted</span> his Christmas bonus gambling in Las Vegas, he <span class="verb-future">would go</span> to Mexico with us next month.</p>
                            <p class="text-sm text-gray-600 italic mt-1">But Darren wasted his Christmas bonus gambling in Las Vegas and he won't go to Mexico with us next month.</p>
                        </div>
                    </div>
                </div>

                <!-- Pattern: Present -> Past -->
                <div class="content-card relative overflow-hidden">
                    <div class="absolute inset-0 z-0">
                        <img src="https://johanka2014.github.io/conditionals/party_scene.png" alt="Party scene background" class="w-full h-full object-cover">
                        <div class="absolute inset-0 bg-white/75"></div>
                    </div>
                    <h2 class="relative z-10 text-2xl font-bold text-gray-800 border-b-2 border-green-300 pb-2 mb-4">PRESENT <span class="text-gray-400 mx-2">‚Üí</span> PAST</h2>
                    <div class="relative z-10 space-y-4">
                        <div class="p-4 bg-white/80 backdrop-blur-sm rounded-lg shadow-sm">
                            <p class="text-lg text-gray-800">If I <span class="verb-present">were</span> rich, I <span class="verb-past">would have bought</span> that Ferrari we saw yesterday.</p>
                            <p class="text-sm text-gray-600 italic mt-1">But I am not currently rich and that is why I didn't buy the Ferrari yesterday.</p>
                        </div>
                        <div class="p-4 bg-white/80 backdrop-blur-sm rounded-lg shadow-sm">
                            <p class="text-lg text-gray-800">If Sam <span class="verb-present">spoke</span> Russian, he <span class="verb-past">would have translated</span> the letter for you.</p>
                            <p class="text-sm text-gray-600 italic mt-1">But Sam doesn't speak Russian and that is why he didn't translate the letter.</p>
                        </div>
                        <div class="p-4 bg-white/80 backdrop-blur-sm rounded-lg shadow-sm">
                            <p class="text-lg text-gray-800">If I <span class="verb-present">didn't have</span> to work so much, I <span class="verb-past">would have gone</span> to the party last night.</p>
                            <p class="text-sm text-gray-600 italic mt-1">But I have to work a lot and that is why I didn't go to the party last night.</p>
                        </div>
                    </div>
                </div>

                <!-- Pattern: Present -> Future -->
                <div class="content-card relative overflow-hidden">
                    <div class="absolute inset-0 z-0">
                        <img src="https://johanka2014.github.io/conditionals/cruise_ship.png" alt="Cruise ship background" class="w-full h-full object-cover">
                        <div class="absolute inset-0 bg-white/75"></div>
                    </div>
                    <h2 class="relative z-10 text-2xl font-bold text-gray-800 border-b-2 border-green-300 pb-2 mb-4">PRESENT <span class="text-gray-400 mx-2">‚Üí</span> FUTURE</h2>
                     <div class="relative z-10 space-y-4">
                        <div class="p-4 bg-white/80 backdrop-blur-sm rounded-lg shadow-sm">
                            <p class="text-lg text-gray-800">If I <span class="verb-present">didn't have</span> so much vacation time, I <span class="verb-future">wouldn't go</span> with you on the cruise to Alaska next week.</p>
                            <p class="text-sm text-gray-600 italic mt-1">But I do have a lot of vacation time and I will go on the trip next week.</p>
                        </div>
                        <div class="p-4 bg-white/80 backdrop-blur-sm rounded-lg shadow-sm">
                            <p class="text-lg text-gray-800">If Cindy <span class="verb-present">were</span> more creative, the company <span class="verb-future">would send</span> her to New York to work on the new advertising campaign.</p>
                            <p class="text-sm text-gray-600 italic mt-1">But Cindy is not creative and the company won't send her to New York to work on the new campaign.</p>
                        </div>
                        <div class="p-4 bg-white/80 backdrop-blur-sm rounded-lg shadow-sm">
                            <p class="text-lg text-gray-800">If Dan <span class="verb-present">weren't</span> so nice, he <span class="verb-future">wouldn't be tutoring</span> you in math tonight.</p>
                            <p class="text-sm text-gray-600 italic mt-1">But Dan is nice and he is going to tutor you tonight.</p>
                        </div>
                    </div>
                </div>

                <!-- Pattern: Future -> Past -->
                <div class="content-card relative overflow-hidden">
                    <div class="absolute inset-0 z-0">
                        <img src="https://johanka2014.github.io/conditionals/napa_valley.png" alt="Napa Valley background" class="w-full h-full object-cover">
                        <div class="absolute inset-0 bg-white/75"></div>
                    </div>
                    <h2 class="relative z-10 text-2xl font-bold text-gray-800 border-b-2 border-purple-300 pb-2 mb-4">FUTURE <span class="text-gray-400 mx-2">‚Üí</span> PAST</h2>
                     <div class="relative z-10 space-y-4">
                        <div class="p-4 bg-white/80 backdrop-blur-sm rounded-lg shadow-sm">
                            <p class="text-lg text-gray-800">If I <span class="verb-future">weren't going</span> on my business trip next week, I <span class="verb-past">would have accepted</span> that new assignment at work.</p>
                            <p class="text-sm text-gray-600 italic mt-1">But I am going to go on a business trip next week, and that is why I didn't accept that new assignment at work.</p>
                        </div>
                        <div class="p-4 bg-white/80 backdrop-blur-sm rounded-lg shadow-sm">
                           <p class="text-lg text-gray-800">If my parents <span class="verb-future">weren't coming</span> this weekend, I <span class="verb-past">would have planned</span> a nice trip just for the two of us to Napa Valley.</p>
                            <p class="text-sm text-gray-600 italic mt-1">But my parents are going to come this weekend, and that is why I didn't plan a trip for the two of us to Napa Valley.</p>
                        </div>
                        <div class="p-4 bg-white/80 backdrop-blur-sm rounded-lg shadow-sm">
                             <p class="text-lg text-gray-800">If Donna <span class="verb-future">weren't making</span> us a big dinner tonight, I <span class="verb-past">would have suggested</span> that we go to that nice Italian restaurant.</p>
                            <p class="text-sm text-gray-600 italic mt-1">But she is going to make us a big dinner tonight, and that is why I didn't suggest that we go to that nice Italian restaurant.</p>
                        </div>
                    </div>
                </div>

                <!-- Pattern: Future -> Present -->
                <div class="content-card relative overflow-hidden">
                    <div class="absolute inset-0 z-0">
                        <img src="https://johanka2014.github.io/conditionals/concert.png" alt="Concert background" class="w-full h-full object-cover">
                        <div class="absolute inset-0 bg-white/75"></div>
                    </div>
                    <h2 class="relative z-10 text-2xl font-bold text-gray-800 border-b-2 border-purple-300 pb-2 mb-4">FUTURE <span class="text-gray-400 mx-2">‚Üí</span> PRESENT</h2>
                     <div class="relative z-10 space-y-4">
                        <div class="p-4 bg-white/80 backdrop-blur-sm rounded-lg shadow-sm">
                            <p class="text-lg text-gray-800">If I <span class="verb-future">were going</span> to that concert tonight, I <span class="verb-present">would be</span> very excited.</p>
                            <p class="text-sm text-gray-600 italic mt-1">But I am not going to go to that concert tonight and that is why I am not excited.</p>
                        </div>
                        <div class="p-4 bg-white/80 backdrop-blur-sm rounded-lg shadow-sm">
                           <p class="text-lg text-gray-800">If Sandy <span class="verb-future">were giving</span> a speech tomorrow, she <span class="verb-present">would be</span> very nervous.</p>
                            <p class="text-sm text-gray-600 italic mt-1">But Sandy is not going to give a speech tomorrow and that is why she in not nervous.</p>
                        </div>
                        <div class="p-4 bg-white/80 backdrop-blur-sm rounded-lg shadow-sm">
                             <p class="text-lg text-gray-800">If Seb <span class="verb-future">didn't come</span> with us to the desert, everyone <span class="verb-present">would be</span> very disappointed.</p>
                            <p class="text-sm text-gray-600 italic mt-1">But Seb will come with us to the desert and that is why everyone is so happy.</p>
                        </div>
                    </div>
                </div>

                <div class="text-center mt-8">
                    <button onclick="showPage('practice-page')" class="bg-blue-600 text-white font-bold py-3 px-8 rounded-lg shadow-lg hover:bg-blue-700 transition-transform transform hover:scale-105">
                        Go to Practice Exercises ‚Üí
                    </button>
                </div>
            </main>
        </div>

        <!-- PAGE 2: PRACTICE ZONE HUB -->
        <div id="practice-page" class="page-section hidden">
            <header class="text-center mb-8">
                <h1 class="text-4xl md:text-5xl font-bold text-gray-800">Practice Zone</h1>
                <p class="text-lg text-gray-600 mt-2">Choose an exercise to test your skills.</p>
            </header>

            <main>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                    <div onclick="showPage('fill-blanks-page')" class="content-card text-center hover:shadow-xl hover:-translate-y-1 transition-all cursor-pointer">
                        <div class="text-5xl mb-4">üìù</div>
                        <h3 class="text-xl font-bold text-gray-800">Fill in the Blanks</h3>
                        <p class="text-gray-600 mt-2">Complete the sentences with correct verb forms.</p>
                    </div>
                    <div onclick="showPage('multiple-choice-page')" class="content-card text-center hover:shadow-xl hover:-translate-y-1 transition-all cursor-pointer">
                        <div class="text-5xl mb-4">‚úÖ</div>
                        <h3 class="text-xl font-bold text-gray-800">Multiple Choice</h3>
                        <p class="text-gray-600 mt-2">Choose the right option to complete the mixed conditional.</p>
                    </div>
                    <div onclick="showPage('scramble-page')" class="content-card text-center hover:shadow-xl hover:-translate-y-1 transition-all cursor-pointer">
                        <div class="text-5xl mb-4">üîÑ</div>
                        <h3 class="text-xl font-bold text-gray-800">Sentence Scramble</h3>
                        <p class="text-gray-600 mt-2">Put the words in the correct order.</p>
                    </div>
                    <div onclick="showPage('identify-page')" class="content-card text-center hover:shadow-xl hover:-translate-y-1 transition-all cursor-pointer">
                        <div class="text-5xl mb-4">ü§î</div>
                        <h3 class="text-xl font-bold text-gray-800">Identify the Pattern</h3>
                        <p class="text-gray-600 mt-2">Identify if it's Past->Present, Present->Past, etc.</p>
                    </div>
                    <div onclick="showPage('transform-page')" class="content-card text-center hover:shadow-xl hover:-translate-y-1 transition-all cursor-pointer">
                        <div class="text-5xl mb-4">‚úçÔ∏è</div>
                        <h3 class="text-xl font-bold text-gray-800">Transformation</h3>
                        <p class="text-gray-600 mt-2">Rewrite standard facts as mixed conditionals.</p>
                    </div>
                    <div onclick="showPage('error-page')" class="content-card text-center hover:shadow-xl hover:-translate-y-1 transition-all cursor-pointer">
                        <div class="text-5xl mb-4">üîç</div>
                        <h3 class="text-xl font-bold text-gray-800">Error Correction</h3>
                        <p class="text-gray-600 mt-2">Find and fix the grammar mistakes.</p>
                    </div>
                </div>
                <div class="text-center mt-8">
                     <button onclick="showPage('explanation-page')" class="bg-gray-600 text-white font-bold py-3 px-8 rounded-lg shadow-lg hover:bg-gray-700">
                        ‚Üê Back to Explanation
                    </button>
                </div>
            </main>
        </div>

        <!-- EXERCISE PAGES -->
        
        <!-- 1. Fill in the Blanks -->
        <div id="fill-blanks-page" class="page-section hidden">
            <h2 class="text-3xl font-bold mb-6 text-center">Fill in the Blanks</h2>
            <div class="content-card space-y-6">
                <p>1. If I <input type="text" id="fb1" class="input-field" placeholder="win"> the lottery yesterday, I <input type="text" id="fb1b" class="input-field" placeholder="will"> rich now.</p>
                <p>2. If she <input type="text" id="fb2" class="input-field" placeholder="study"> harder, she <input type="text" id="fb2b" class="input-field" placeholder="will"> a better job today.</p>
                <p>3. If I <input type="text" id="fb3" class="input-field" placeholder="be"> you, I <input type="text" id="fb3b" class="input-field" placeholder="will call"> him last night.</p>
                <p>4. If he <input type="text" id="fb4" class="input-field" placeholder="miss"> the bus, he <input type="text" id="fb4b" class="input-field" placeholder="will join"> us for dinner tonight.</p>
                <p>5. If they <input type="text" id="fb5" class="input-field" placeholder="have not"> to work, they <input type="text" id="fb5b" class="input-field" placeholder="will go"> to the cinema yesterday.</p>
                <div class="flex gap-4 pt-4">
                    <button onclick="checkFillBlanks()" class="bg-blue-600 text-white px-6 py-2 rounded-lg">Check</button>
                    <button onclick="showPage('practice-page')" class="bg-gray-400 text-white px-6 py-2 rounded-lg">Back</button>
                </div>
            </div>
        </div>

        <!-- 2. Multiple Choice -->
        <div id="multiple-choice-page" class="page-section hidden">
            <h2 class="text-3xl font-bold mb-6 text-center">Multiple Choice</h2>
            <div class="content-card space-y-8" id="mc-container">
                <!-- Populated by JS -->
            </div>
            <div class="text-center">
                <button onclick="showPage('practice-page')" class="bg-gray-400 text-white px-6 py-2 rounded-lg">Back to Hub</button>
            </div>
        </div>

        <!-- 3. Sentence Scramble -->
        <div id="scramble-page" class="page-section hidden">
            <h2 class="text-3xl font-bold mb-6 text-center">Sentence Scramble</h2>
            <div class="content-card space-y-8" id="scramble-content">
                <!-- Populated by JS -->
            </div>
            <div class="text-center">
                <button onclick="showPage('practice-page')" class="bg-gray-400 text-white px-6 py-2 rounded-lg">Back to Hub</button>
            </div>
        </div>

        <!-- 4. Identify the Pattern -->
        <div id="identify-page" class="page-section hidden">
            <h2 class="text-3xl font-bold mb-6 text-center">Identify the Pattern</h2>
            <div class="content-card space-y-6" id="identify-container">
                <!-- Populated by JS -->
            </div>
            <div class="text-center">
                <button onclick="showPage('practice-page')" class="bg-gray-400 text-white px-6 py-2 rounded-lg">Back to Hub</button>
            </div>
        </div>

        <!-- 5. Transformation -->
        <div id="transform-page" class="page-section hidden">
            <h2 class="text-3xl font-bold mb-6 text-center">Sentence Transformation</h2>
            <div class="content-card space-y-6">
                <p class="font-medium text-gray-600">Rewrite the situation as a mixed conditional:</p>
                <div class="space-y-4">
                    <div>
                        <p class="text-sm italic">"I didn't take the job, so I'm not happy now."</p>
                        <input type="text" id="tr1" class="w-full input-field mt-1" placeholder="If I had taken the job, I would be happy now.">
                    </div>
                    <div>
                        <p class="text-sm italic">"I am not a fast runner, so I didn't win the race yesterday."</p>
                        <input type="text" id="tr2" class="w-full input-field mt-1" placeholder="If I were a fast runner, I would have won the race yesterday.">
                    </div>
                    <div>
                        <p class="text-sm italic">"She didn't sign up, so she isn't coming tomorrow."</p>
                        <input type="text" id="tr3" class="w-full input-field mt-1" placeholder="If she had signed up, she would be coming tomorrow.">
                    </div>
                    <div>
                        <p class="text-sm italic">"He isn't here, so he didn't see the accident."</p>
                        <input type="text" id="tr4" class="w-full input-field mt-1" placeholder="If he were here, he would have seen the accident.">
                    </div>
                    <div>
                        <p class="text-sm italic">"I have to work tonight, so I didn't go to the party."</p>
                        <input type="text" id="tr5" class="w-full input-field mt-1" placeholder="If I didn't have to work tonight, I would have gone to the party.">
                    </div>
                </div>
                <div class="flex gap-4 pt-4">
                    <button onclick="checkTransform()" class="bg-blue-600 text-white px-6 py-2 rounded-lg">Check</button>
                    <button onclick="showPage('practice-page')" class="bg-gray-400 text-white px-6 py-2 rounded-lg">Back</button>
                </div>
            </div>
        </div>

        <!-- 6. Error Correction -->
        <div id="error-page" class="page-section hidden">
            <h2 class="text-3xl font-bold mb-6 text-center">Error Correction</h2>
            <div class="content-card space-y-6">
                <p>Find the mistake and type the correct word/phrase:</p>
                <div class="space-y-4">
                    <p>1. If I <u>would have won</u> the lottery, I would be rich now. <input type="text" id="err1" class="input-field ml-2" placeholder="had won"></p>
                    <p>2. If I were rich, I <u>would buy</u> that car yesterday. <input type="text" id="err2" class="input-field ml-2" placeholder="would have bought"></p>
                    <p>3. If I <u>hadn't had</u> to work today, I would have gone out last night. <input type="text" id="err3" class="input-field ml-2" placeholder="didn't have"></p>
                    <p>4. If she <u>would be</u> more creative, they would have hired her. <input type="text" id="err4" class="input-field ml-2" placeholder="were"></p>
                    <p>5. If I weren't going on my trip, I <u>would accepted</u> the job. <input type="text" id="err5" class="input-field ml-2" placeholder="would have accepted"></p>
                </div>
                <div class="flex gap-4 pt-4">
                    <button onclick="checkErrors()" class="bg-blue-600 text-white px-6 py-2 rounded-lg">Check</button>
                    <button onclick="showPage('practice-page')" class="bg-gray-400 text-white px-6 py-2 rounded-lg">Back</button>
                </div>
            </div>
        </div>

    </div>

    <script>
        function showPage(pageId) {
            document.querySelectorAll('.page-section').forEach(p => p.classList.add('hidden'));
            document.getElementById(pageId).classList.remove('hidden');
            window.scrollTo(0,0);
        }

        // --- FILL IN BLANKS LOGIC ---
        function checkFillBlanks() {
            const answers = {
                fb1: "had won", fb1b: "would be",
                fb2: "had studied", fb2b: "would have",
                fb3: "were", fb3b: "would have called",
                fb4: "hadn't missed", fb4b: "would be joining",
                fb5: "didn't have", fb5b: "would have gone"
            };
            Object.keys(answers).forEach(id => {
                const el = document.getElementById(id);
                if(el.value.trim().toLowerCase() === answers[id].toLowerCase()) el.classList.add('correct');
                else el.classList.add('incorrect');
            });
        }

        // --- MULTIPLE CHOICE LOGIC ---
        const mcQuestions = [
            { q: "If I had won the lottery yesterday, I ___ rich today.", options: ["would be", "would have been", "will be"], correct: 0 },
            { q: "If I ___ Russian, I would have translated that letter for you yesterday.", options: ["spoke", "had spoken", "would speak"], correct: 0 },
            { q: "If we ___ a map, we wouldn't be lost now.", options: ["had", "had had", "would have"], correct: 1 },
            { q: "If she had signed up last week, she ___ us tomorrow.", options: ["would be joining", "would join", "will join"], correct: 0 },
            { q: "If I ___ so much work this week, I would have gone away last weekend.", options: ["didn't have", "hadn't had", "wouldn't have"], correct: 0 }
        ];

        function initMC() {
            const container = document.getElementById('mc-container');
            container.innerHTML = mcQuestions.map((q, i) => `
                <div>
                    <p class="font-bold mb-2">${i+1}. ${q.q}</p>
                    <div class="space-y-2">
                        ${q.options.map((opt, oi) => `
                            <button onclick="checkMC(${i}, ${oi}, this)" class="block w-full text-left p-3 border rounded-lg hover:bg-gray-50">${opt}</button>
                        `).join('')}
                    </div>
                </div>
            `).join('');
        }

        function checkMC(qi, oi, btn) {
            if(oi === mcQuestions[qi].correct) btn.style.backgroundColor = '#def7ec';
            else btn.style.backgroundColor = '#fde2e2';
        }

        // --- IDENTIFY PATTERN LOGIC ---
        const identifyItems = [
            { s: "If I hadn't eaten so much, I wouldn't feel sick now.", p: "Past -> Present" },
            { s: "If I were more creative, the company would have sent me to New York.", p: "Present -> Past" },
            { s: "If he weren't going on a trip tomorrow, he would have helped us.", p: "Future -> Past" },
            { s: "If she had gotten the job, she would be moving next week.", p: "Past -> Future" },
            { s: "If I were going to the concert tonight, I would have bought a shirt yesterday.", p: "Future -> Past" }
        ];

        function initIdentify() {
            const cont = document.getElementById('identify-container');
            cont.innerHTML = identifyItems.map((item, i) => `
                <div class="p-4 border rounded-lg bg-gray-50">
                    <p class="mb-2 italic">"${item.s}"</p>
                    <select onchange="this.value === '${item.p}' ? this.className='p-2 rounded bg-green-100' : this.className='p-2 rounded bg-red-100'" class="p-2 rounded border">
                        <option>Choose...</option>
                        <option>Past -> Present</option>
                        <option>Past -> Future</option>
                        <option>Present -> Past</option>
                        <option>Present -> Future</option>
                        <option>Future -> Past</option>
                        <option>Future -> Present</option>
                    </select>
                </div>
            `).join('');
        }

        // --- SCRAMBLE LOGIC ---
        const scrambleSentences = [
            "If I had won the lottery I would be rich",
            "If I were you I would have gone",
            "If he spoke English he would have a better job",
            "If I hadn't lost my keys I would be inside",
            "If she had been born here she wouldn't need a visa"
        ];

        function initScramble() {
            const cont = document.getElementById('scramble-content');
            cont.innerHTML = scrambleSentences.map((s, i) => {
                const words = s.split(' ').sort(() => Math.random() - 0.5);
                return `
                    <div>
                        <p class="text-sm font-bold text-gray-500 mb-2">Sentence ${i+1}:</p>
                        <div class="flex flex-wrap gap-2 mb-2">
                            ${words.map(w => `<span class="scramble-item">${w}</span>`).join('')}
                        </div>
                        <input type="text" onblur="checkScramble(${i}, this)" class="w-full input-field" placeholder="Type the correct sentence here...">
                    </div>
                `;
            }).join('');
        }

        function checkScramble(i, el) {
            if(el.value.trim().toLowerCase().replace(/[.,!]/g,'') === scrambleSentences[i].toLowerCase()) el.classList.add('correct');
            else el.classList.add('incorrect');
        }

        // --- TRANSFORM LOGIC ---
        function checkTransform() {
            const trAns = ["if i had taken the job i would be happy now", "if i were a fast runner i would have won the race yesterday", "if she had signed up she would be coming tomorrow", "if he were here he would have seen the accident", "if i didn't have to work tonight i would have gone to the party"];
            for(let i=1; i<=5; i++) {
                const el = document.getElementById('tr'+i);
                const cleanInput = el.value.toLowerCase().replace(/[.,!]/g,'').trim();
                if(cleanInput === trAns[i-1]) el.classList.add('correct');
                else el.classList.add('incorrect');
            }
        }

        // --- ERROR LOGIC ---
        function checkErrors() {
            const errAns = ["had won", "would have bought", "didn't have", "were", "would have accepted"];
            for(let i=1; i<=5; i++) {
                const el = document.getElementById('err'+i);
                if(el.value.trim().toLowerCase() === errAns[i-1].toLowerCase()) el.classList.add('correct');
                else el.classList.add('incorrect');
            }
        }

        // Initialize all
        window.onload = () => {
            initMC();
            initScramble();
            initIdentify();
        };
    </script>
</body>
</html>
